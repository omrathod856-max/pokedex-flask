<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokemon Details</title>
  <link rel="stylesheet" href="../static/styles.css">
</head>
<body>
  <header>
    <h1>Pokemon Details</h1>
    <a class="back-link" href="{{ url_for('index') }}">← Back to List</a>
  </header>

  <main class="pokemon-details">
    <!-- Example detail for Bulbasaur -->
    <img class="pokemon-image" src="{{selected_pokemon['image_url'] }}" alt="{{selected_pokemon['name']}} Atrwork">
    <h2>{{selected_pokemon['name']}}</h2>
    <p><strong>Type:</strong>{{selected_pokemon['type']  | join(', ')}}</p>
    <p><strong>Description:</strong>{{selected_pokemon['pokedex_entry']}}</p>
     
    {% if selected_pokemon.abilities %}
<div class="abilities-section">
  <h2>Abilities</h2>
  <div class="abilities-list">
    {% if selected_pokemon.abilities.standard %}
    <div class="ability-group">
      <h3>Standard Abilities</h3>
      <ul>
        {% for ability in selected_pokemon.abilities.standard %}
        <li class="ability-label standard">{{ ability }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}

    {% if selected_pokemon.abilities.hidden %}
    <div class="ability-group">
      <h3>Hidden Ability</h3>
      <ul>
        {% if selected_pokemon.abilities.hidden is string %}
          <li class="ability-label hidden">{{ selected_pokemon.abilities.hidden }}</li>
        {% else %}
          {% for ability in selected_pokemon.abilities.hidden %}
          <li class="ability-label hidden">{{ ability }}</li>
          {% endfor %}
        {% endif %}
      </ul>
    </div>
    {% endif %}
  </div>
</div>
{% endif %}

    
    <div class="cry-container">
      <p><strong>Pokémon Cry:</strong></p>
      <audio controls>
        <source src="{{ selected_pokemon['cry_url'] }}" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
    </div>

    <div class="stats-container">
        <h3>Base Stats</h3>
    <ul class="stats">
      <li>
        <span class="stat-label">
        <strong>Hp:</strong>
        </span>
        <div class="stat-bar">
        <div class="stat-fill" style="width: {{ ( selected_pokemon['stats']['hp'] / max ) * 100 }}%;"></div>
        </div>
        {{ selected_pokemon['stats']['hp'] }}
      </li>
      <li>
        <span class="stat-label">
        <strong>Attack:</strong>
        </span>
        <div class="stat-bar">
        <div class="stat-fill" style="width: {{ ( selected_pokemon['stats']['attack'] / max ) * 100 }}%;"></div>
        </div>
        {{ selected_pokemon['stats']['attack'] }}
      </li>
      <li>
        <span class="stat-label">
        <strong>Defense:</strong>
        </span>
        <div class="stat-bar">
        <div class="stat-fill" style="width: {{ ( selected_pokemon['stats']['defense'] / max ) * 100 }}%;"></div>
        </div>
        {{ selected_pokemon['stats']['defense'] }}
      </li>
      <li>
        <span class="stat-label">
        <strong>Sp. Atk:</strong>
        </span>
        <div class="stat-bar">
        <div class="stat-fill" style="width: {{ (selected_pokemon['stats']['special_attack'] / max) * 100 }}%;"></div>
        </div>
        {{ selected_pokemon['stats']['special_attack'] }}
      </li>
      <li>
        <span class="stat-label">
        <strong>Sp. Def:</strong>
        </span>
        <div class="stat-bar">
        <div class="stat-fill" style="width: {{ (selected_pokemon['stats']['special_defense'] / max ) * 100}}%;"></div>
        </div>
        {{ selected_pokemon['stats']['special_defense'] }}
      </li>
      <li>
        <span class="stat-label">
        <strong>Speed:</strong>
        </span>
        <div class="stat-bar">
        <div class="stat-fill" style="width: {{ (selected_pokemon['stats']['speed'] / max) * 100 }}%;"></div>
        </div>
        {{ selected_pokemon['stats']['speed'] }}
      </li>
      <li>
        <span class="stat-label">
        <strong>Total:</strong>
        </span>
        {{ total }}
      </li>
        </span>
    </ul>
    </div>
    
    {% if selected_pokemon.location and selected_pokemon.location|length > 0 %}
<div class="location-section">
  <h2>Locations</h2>
  <div class="location-list">
    {% for loc in selected_pokemon.location %}
    <div class="location-card">
      <h3>{{ loc.game }}</h3>
      <p>{{ loc.area }}</p>
    </div>
    {% endfor %}
  </div>
</div>
{% endif %}


    {% if selected_pokemon.evolutions and selected_pokemon.evolutions|length > 0 %}
      <div class="evolution-section">
        <h2>Evolution Line</h2>
        <div class="evolution-line">
          {% for evo in selected_pokemon.evolutions %}
            <div class="evolution-card">
                <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/{{ evo.id }}.png"
                     alt="{{ evo.name }}">
                 <a href="{{ url_for('pokemon', id=evo['id']) }}" class="evo-button">
                     {{ evo['name'] }}
                 </a>
            </div>
            {% if not loop.last %}
              <span class="arrow">➡</span>
            {% endif %}
          {% endfor %}
        </div>
      </div>
{% endif %}

{% if selected_pokemon.shiny_sprite_url %}
<div class="shiny-section">
  <h2>Shiny Form</h2>
  <div class="shiny-card">
    <div class="sprite-box">
      <h3>Normal</h3>
      <img src="{{ selected_pokemon.sprite_url }}" alt="{{ selected_pokemon.name }} Normal">
    </div>
    <span class="arrow">➡</span>
    <div class="sprite-box">
      <h3>Shiny</h3>
      <img src="{{ selected_pokemon.shiny_sprite_url }}" alt="{{ selected_pokemon.name }} Shiny">
    </div>
  </div>
</div>
{% endif %}


  </main>
<footer>
  <p>&copy; 2025 Pokédex Project | Made by Om Rathod</p>

</footer>
</body>
</html>

